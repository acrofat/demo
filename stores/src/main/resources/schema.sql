CREATE TABLE STORE (
	STORE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
	STORE_NAME VARCHAR(255) NOT NULL,
	STORE_ADDRESS VARCHAR(255) NOT NULL,
	POSTCODE VARCHAR(255),
	STATE_NAME VARCHAR(255),
	PRIMARY KEY (STORE_ID)
);

CREATE TABLE USER (
	USER_ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
	USER_NAME VARCHAR(255) NOT NULL,
	FIRST_NAME VARCHAR(255),
	LAST_NAME VARCHAR(255),
	PRIMARY KEY (USER_ID)
);

CREATE TABLE USER_STORE (
	USER_ID BIGINT NOT NULL,
	STORE_ID BIGINT NOT NULL,
	PRIMARY KEY (USER_ID, STORE_ID)
);

ALTER TABLE USER_STORE ADD CONSTRAINT STORE_FK FOREIGN KEY (STORE_ID) REFERENCES STORE;
ALTER TABLE USER_STORE ADD CONSTRAINT USER_FK FOREIGN KEY (USER_ID) REFERENCES USER;